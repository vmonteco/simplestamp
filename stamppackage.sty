\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{stamppackage}[2024/01/28 Simple Stampx LaTeX package 0.0news.]

%% Packages required :
%% tcolorbox (For the frame)
\RequirePackage{tcolorbox}

%% Mode constants :
%% Colors and opacity values :
\newcommand{\strongstampbackgroundcolor}{red}
\newcommand{\strongstampbackgroundopacity}{0.1}
\newcommand{\strongstampbordercolor}{red}
\newcommand{\strongstampborderopacity}{0.5}
\newcommand{\strongstamptextcolor}{red}
\newcommand{\strongstamptextopacity}{0.5}

\newcommand{\regularstampbackgroundcolor}{black}
\newcommand{\regularstampbackgroundopacity}{0.5}
\newcommand{\regularstampbordercolor}{black}
\newcommand{\regularstampborderopacity}{0.0}
\newcommand{\regularstamptextcolor}{black}
\newcommand{\regularstamptextopacity}{0.5}

\newcommand{\discreetstampbackgroundcolor}{gray}
\newcommand{\discreetstampbackgroundopacity}{0.4}
\newcommand{\discreetstampbordercolor}{gray}
\newcommand{\discreetstampborderopacity}{0.0}
\newcommand{\discreetstamptextcolor}{gray}
\newcommand{\discreetstamptextopacity}{0.4}

\newcommand{\stampwidth}{15em}

%% For now we hardcode the default values :
\newcommand{\defaultmode}{strong}

\newcommand{\stampbackgroundcolor}{\strongstampbackgroundcolor}
\newcommand{\stampbackgroundopacity}{\strongstampbackgroundopacity}
\newcommand{\stampbordercolor}{\strongstampbordercolor}
\newcommand{\stampborderopacity}{\strongstampborderopacity}
\newcommand{\stamptextcolor}{\strongstamptextcolor}
\newcommand{\stamptextopacity}{\strongstamptextopacity}

%% Modes :
\newcommand{\strongmode}{strong} %% Default
\newcommand{\regularmode}{regular}
\newcommand{\discreetmode}{discreet}

%% Set default mode :
\newcommand{\defaultmode}{\strongmode}
\newcommand{\mode}{\defaultmode}

\DeclareOption{discreet}{\renewcommand{\mode}{\discreetmode}}
\DeclareOption{regular}{\renewcommand{\mode}{\regularmode}}
\DeclareOption{strong}{\renewcommand{\mode}{\strongmode}}

\DeclareOption*{\PackageWarning{examplepackage}{Unknown ‘\CurrentOption’}}

\ProcessOptions\relax


%% Declare tools for stamping :

%% base stamp :
\newcommand{\basestamp}[1]{
  \begin{tcolorbox}[
      standard jigsaw,
      colback=\stampbackgroundcolor,
      opacityback=\stampbackgroundopacity,
      colframe=\stampbordercolor,
      opacityframe=\stampborderopacity,
      coltext=\stamptextcolor,
      opacitytext=\stamptextopacity,
      width=\stampwidth
    ]
    #1
  \end{tcolorbox}
}

%% stamp :
\newcommand{\stamp}[1]{
  \basestamp{#1}
}
    
